### **Kafka Topics CLI (Hands-on)**

#### **1. Introduction**

Humne ab tak theory mein dekha ki **Topics** Kafka ka core part hain. Ab hum **Command Line Interface (CLI)** use karke topics ko manage karenge.
Hum seekhenge:

  * Topic Create karna.
  * List karna (Dekhna ki kaunse topics hain).
  * Describe karna (Topic ki details dekhna).
  * Delete karna.

**Warning for Windows Users:**
Agar aap **Windows (Non-WSL2)** use kar rahe hain, toh please topic delete karne ki koshish **NA KAREIN**. Isse Kafka crash ho sakta hai.

-----

#### **2. Prerequisite: Conduktor Cloud Config**

Instructor **Conduktor Cloud** use kar rahe hain kyunki wahan UI milti hai jo learning ke liye best hai.
Agar aap bhi Cloud use kar rahe hain, toh aapko ek configuration file banani padegi.

1.  Apne code editor (VS Code etc.) mein ek nayi file banayein: `playground.config`
2.  Is file mein apni Cloud credentials paste karein:
    ```properties
    security.protocol=SASL_SSL
    sasl.mechanism=PLAIN
    sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="<YOUR_USERNAME>" password="<YOUR_PASSWORD>";
    ```
    *(Ye details aapko Conduktor dashboard ke "My Playground" section se milengi).*

-----

#### **3. Anatomy of a Command (Command kaise banta hai?)**

Ek standard command 3 parts se banta hai:

1.  **Script Name:** `kafka-topics.sh` (Action tool).
2.  **Authentication (Only for Cloud):** `--command-config playground.config` (Login details).
3.  **Bootstrap Server:** `--bootstrap-server <URL>` (Kafka ka address).

**Example Structure:**

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server pkc-1234.us-west-2.aws.confluent.cloud:9092 [ACTION]
```

*(Note: Localhost users ko `--command-config` ki zarurat nahi hai aur bootstrap server `localhost:9092` hoga).*

-----

#### **4. Creating Topics**

**Command 1: Basic Creation**

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server <YOUR_SERVER> --create --topic first_topic
```

  * **Result:** `first_topic` naam ka topic create ho jayega (Default partitions ke saath).

**Command 2: Custom Partitions**
Humein hamesha explicit hona chahiye.

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server <YOUR_SERVER> --create --topic second_topic --partitions 5
```

  * **Result:** `second_topic` create hoga jisme **5 Partitions** honge.

**Command 3: Replication Factor**

  * **Localhost Rule:** Agar aapke paas 1 Broker hai, toh Replication Factor **1 se zyada nahi** ho sakta.
  * **Cloud Rule:** Conduktor Cloud par by default Replication Factor **3** set hota hai (Production standard). Aap ise change nahi kar sakte wahan.

-----

#### **5. Listing Topics**

Kaise pata karein ki cluster mein kaunse topics hain?

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server <YOUR_SERVER> --list
```

  * **Output:** `first_topic`, `second_topic`, `third_topic`...

-----

#### **6. Describing Topics (Deep Dive)**

Topic ke andar kya chal raha hai (Partitions, Leaders, Replicas) dekhne ke liye:

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server <YOUR_SERVER> --topic first_topic --describe
```

**Output Explanation:**

  * **Topic:** `first_topic`
  * **PartitionCount:** 3
  * **ReplicationFactor:** 3
  * **Partition 0:** Leader: 31, Replicas: 31,15,5, ISR: 31,15,5
      * *Meaning:* Partition 0 ka leader **Broker 31** hai.
      * *Replicas:* Copies Broker 31, 15 aur 5 par hain.
      * *ISR (In-Sync):* Teeno brokers fully sync mein hain.

-----

#### **7. Deleting Topics**

Topic ko permanently remove karne ke liye:

```bash
kafka-topics.sh --command-config playground.config --bootstrap-server <YOUR_SERVER> --topic second_topic --delete
```

  * **Result:** Topic delete ho jayega.
  * *(Reminder: Windows users avoid this command).*

-----

### **Summary Checklist**

  * [x] `playground.config` file banayi (Cloud users only).
  * [x] **Create:** `--create --topic <name> --partitions <N>`
  * [x] **List:** `--list`
  * [x] **Describe:** `--describe --topic <name>`
  * [x] **Delete:** `--delete --topic <name>`

-----

**Next Step:** Topics ready hain\! Ab humein unme data bhejna hai. Would you like to proceed to **Kafka Console Producer CLI** notes?